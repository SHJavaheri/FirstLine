generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String   @id @default(cuid())
  email        String   @unique
  name         String?
  passwordHash String
  lawyers      Lawyer[]
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@index([createdAt])
}

model Lawyer {
  id              String   @id @default(cuid())
  userId          String?
  user            User?    @relation(fields: [userId], references: [id], onDelete: SetNull)
  name            String
  specialization  String
  hourlyRate      Int
  location        String
  rating          Float
  yearsExperience Int
  description     String
  email           String?
  phone           String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@index([name])
  @@index([specialization])
  @@index([location])
  @@index([hourlyRate])
  @@index([rating])
  @@index([specialization, location])
}
