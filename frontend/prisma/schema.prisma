generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum AccountRole {
  CONSUMER
  PROFESSIONAL
  ADMIN
}

model Account {
  id              String   @id @default(cuid())
  email           String   @unique
  passwordHash    String
  role            AccountRole @default(CONSUMER)
  firstName       String?
  lastName        String?
  profilePhotoUrl String?
  jobTitle        String?
  bio             String?
  locationCity    String?
  locationState   String?
  phone           String?
  isSuspended     Boolean  @default(false)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  professional    ProfessionalProfile?

  @@index([createdAt])
}

model ProfessionalProfile {
  id                    String   @id @default(cuid())
  accountId             String   @unique
  account               Account  @relation(fields: [accountId], references: [id], onDelete: Cascade)
  profession            String
  specializations       String[]
  hourlyRate            Int?
  yearsExperience       Int?
  location              String?
  firmName              String?
  firmAddress           String?
  firmWebsite           String?
  yearsAtCurrentFirm    Int?
  totalExperienceYears  Int?
  licenseNumber         String?
  licensingBody         String?
  licenseJurisdiction   String?
  pricingModel          String?
  pricingDetails        String?
  minRate               Int?
  maxRate               Int?
  acceptsNewClients     Boolean  @default(true)
  offersInPerson        Boolean  @default(true)
  offersRemote          Boolean  @default(true)
  verified              Boolean  @default(false)
  rating                Float    @default(0)
  description           String?
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt

  @@index([profession])
  @@index([verified])
}
